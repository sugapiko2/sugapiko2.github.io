# システム運用アンチパターン
### 1章: DevOpsを構成するもの
- DevOpsとは、開発チームと運用チームが垣根をこえてお互いの役割をできるようにする、っていう感じ（？）
- DevOpsの4つの柱: CAMS
    - Culture
    - Automation
    - Metrics
    - Sharing
    - ※Leanは含めない → LeanがなくてもDevOpsは成立するから
- 現場からのDevOpsという目線で本書は書かれている
- （感想）
    - DevOpsの歴史を少し知れた
    - 自チームはDevとOpsが統合されているからちょっとピンとこないかも？
    - 別チームでDevとOpsが分断されているチームを想定するとなんかわかる気がする
### 2章: パターナリスト症候群
- > パターナリズム（英: paternalism）とは、強い立場にある者が、弱い立場にある者の利益のためだとして、本人の意志は問わずに介入・干渉・支援することをいう。
- 強い権限を持つ人（ゲートキーパー）が承認を経ないとリリースできないような仕組みにしてしまいがち
- 以下の問題が発生する可能性がある
    - 時間がかかり、リリースまでのリードタイムが伸びる（価値提供が遅れる）
    - コミュニケーションが増える
    - 手作業によるミスが発生する
- 承認が必要となったのかの背景があるはず
    - なぜ承認が必要なのかを理解するべし
    - 承認プロセスが解決しようとしている懸念事項を自動化で解消するべし
    - ログ・通知・エラーを考慮した設計をすべし
- （感想）
    - 現在の仕事にあてはめて考えてみる
        - QAによるシナリオテストを経てリリースとなるが、具体的に何をしているのかは不明
            - 何をしているか・何を担保しているのかを知るべき
            - シナリオテストが不合格でもマネージャー承認でリリースできるから、リリース後とか不定期でとかでも良いのでは？
        - マネージャーが承認するフローがある
            - 結構口出ししている印象があるから、何かしらの観点は持ってそう
            - とはいえ取りやめになったことはないし、手前で機能単位での承認プロセスがあるから不必要な気もする
            - マネージャーはどれぐらい評価の結果を気にしているのか？
### 3章: 盲目状態での運用
- Queueの可視化の話
    - どういうメトリクスを取るのかが大事
    - 問題が起きていない状態でどこまでやるかは悩ましい
- FMEA
    - 可視化するだけでスコアが上がりそうだけど、その指標で良いのだろうか…？
    - 重要度が一番の要素なような気がするけど…
- ログ
    - CloudWatchに出しているログは構造化しているとはいえないかも
    - powerToolsを使うとJSONにして出すとかができるのかも？
    - 有償SaaSの例で挙げられているPplunkとかSumo Logicがどういうものか知りたい
        - CloudWatchと比較してどうなのか知りたい
### 4章: 情報ではなくデータ
- 目的に応じた可視化方法を選択することが大事
    - まずは誰をターゲットにするかを考える
    - 新機能開発と同じ考え方
### 5章: 最後の味付けとしての品質
- CDってデプロイなのかデリバリーなのかちゃんと理解してなかった
- 機能フラグのツールがちょっと気になる（AWSにもあったはず）
- QAが開発の最後の工程でシナリオテストするのはアンチパターンってことか
### 6章: アラート疲れ
- サービス定義書でサポート時間を記載しているからオンコールローテーションは不要と考えて良いのだろうか
    - SLOを改めて把握して置く必要がある
- パフォーマンスレポートはあっても良さそう
    - 月次で何かの指標をみるとかしても良いのかもしれない
### 7章: 空の道具箱
- ざっくりいうと、自動化しましょうっていう話
- 自動化できない原因 - 文化がない 
    - 時間がない
    - 優先度が低い
    - どちらもあるある
- Windowsベースの環境では自動化が進まない
    - CLIのおかげで自動化が簡単にできる
- 文化を変えよう
    - 手動での作業を禁止する
    - 頻度×時間とか、待ち時間などを計算すると、想像以上に膨大な時間が手作業に持ってかれているかも
- スコアカードっていうのはおもしろい
    - 自動化したいタスクの手間に1 or 3 or 9をつけて合計し、チームで設定した合計値を越えないようにする
- やってみたい自動化
    - パスワード再発行
    - 環境構築の完全自動化
    - 適用準備の自動化
- ツールの実行に承認機能を追加して、承認を持って自動で実行されるようにしたらダメなのかな？
    - そもそも作業するのに踏み台端末に入るっていう作業がGUIを使った非自動化なのでは？
    - リモート申請にツールの実行shellを紐づけるとか、できないのかな？
    - SREはどうやってるんだろう？
- 運用チームの考え方として、障害対策より自動化の方がメリット大きかったりしないかな…？
